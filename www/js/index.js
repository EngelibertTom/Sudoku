var k=function(){H.fillStyle=I,H.fillRect(0,0,_,$)},Z=function(q,A,B,E,K){const R=q*B,U=A*B;if(K)H.fillStyle=K,H.fillRect(R+1,U+1,B-2,B-2);H.strokeStyle=E,H.strokeRect(R,U,B,B)},w=function(q,A,B){Z(q,A,M*3,V,B);for(let E=0;E<3;E++)for(let K=0;K<3;K++)Z(q*3+K,A*3+E,M,J)},D=function(q,A){if(O[A][q]!==null){H.font="bold 60px Arial",H.textBaseline="middle",H.textAlign="center";const B=q*M+Math.floor(M*0.5),E=A*M+Math.floor(M*0.575);H.fillText(O[A][q].toString(),B,E)}else{H.fillStyle="#000",H.font="16px Arial",H.textBaseline="top",H.textAlign="start";const B=X[A][q],E=Math.max(M-2,Math.floor(M*0.8)),K=Math.floor(E/3),R=Math.max(1,Math.floor(M*0.1)),U=q*M+R,b=A*M+R;for(let Q=1;Q<=9;Q++){const Y=B.includes(Q)?Q:null,f=(Q-1)%3,G=Math.floor((Q-1)/3),F=U+K*f,h=b+K*G;H.fillText(Y!==null?Y.toString():"",F,h)}}},L=function(){for(let q=0;q<9;q++)for(let A=0;A<9;A++)D(A,q)},P=function(){k();for(let q=0;q<3;q++)for(let A=0;A<3;A++)w(A,q)},y=function(q,A,B){if(O[B][A]===q)O[B][A]=null;else O[B][A]=q};var W=new WebSocket(`ws://${location.host}`);W.onopen=()=>setInterval(()=>W.send("ping"),5000);W.onmessage=(q)=>{if(q.data!=="Well received")console.log(q.data);if(q.data==="reload")location.reload()};var I="#DDD",J="#AAA",V="#000",T=document.getElementById("sudokuCanvas"),H=T.getContext("2d"),_=T.width,$=T.height,M=Math.round(Math.min(_,$)/9),X=[],O=[];for(let q=0;q<9;q++){X.push([]),O.push([]);for(let A=0;A<9;A++)X[q].push([1,2,3,4,5,6,7,8,9]),O[q].push(null)}P();L();var N=null;T.addEventListener("mousemove",(q)=>{q.stopPropagation();const{offsetX:A,offsetY:B}=q,E=Math.min(Math.floor(A/M),8),K=Math.min(Math.floor(B/M),8);if(N===null||N[0]!==E||N[1]!==K)N=[E,K],console.log("Celulle s\xE9lectionn\xE9e:",N)});T.addEventListener("mouseout",(q)=>{q.stopPropagation(),N=null,console.log("Celulle s\xE9lectionn\xE9e:",N)});document.addEventListener("keydown",(q)=>{if(N!==null){const A=N[0],B=N[1],E=q.key;if(/^[1-9]$/.test(E)){const K=parseInt(E);y(K,A,B),P(),L()}}});console.log("Frontend charg\xE9");
